task buildZip(type: Zip) {
  from sourceSets.main.output
  into('lib') {
    from(configurations.compileClasspath)
  }
}
shadowJar.dependsOn buildZip